
![Memento](https://mypresentation.ru/documents_6/c3e8d6e2c1fce20de6251c005e6d4ce3/img28.jpg)
![k/c](https://storage.yandexcloud.net/karpov-public/static/logo_DS.png)

–ü—Ä–µ–¥—Å—Ç–∞–≤—å: —Ç—ã –ø–∏—à–µ—à—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî –¥–æ–ø—É—Å—Ç–∏–º, –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –∫–∞–∫ ¬´–ë–ª–æ–∫–Ω–æ—Ç¬ª, —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏. –ò –≤–æ—Ç —Ç—ã –≤–≤–æ–¥–∏—à—å —Ç–µ–∫—Å—Ç, –ø–æ—Ç–æ–º —Å—Ç–∏—Ä–∞–µ—à—å, –ø–æ—Ç–æ–º —Å–Ω–æ–≤–∞ —á—Ç–æ-—Ç–æ –ø–∏—à–µ—à—å, –∏ —Ç–µ–±–µ —Ö–æ—á–µ—Ç—Å—è, —á—Ç–æ–±—ã –±—ã–ª–∞ –∫–Ω–æ–ø–∫–∞ ¬´–Ω–∞–∑–∞–¥¬ª ‚Äî –∫–∞–∫ Ctrl+Z –≤ –ª—é–±–æ–º –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ.

–í–æ—Ç —Ç—É—Ç –∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ –ø–æ–º–æ—â—å **Memento**.

---

### üëâ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ, –±–µ–∑ –≤–æ–¥—ã

–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–ø–æ—Å–æ–± **—Å–¥–µ–ª–∞—Ç—å —Å–Ω–∏–º–æ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞**, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ –±—ã–ª–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥.  
–ö–∞–∫ –≤ –∏–≥—Ä–∞—Ö, –∫–æ–≥–¥–∞ —Ç—ã —Å–æ—Ö—Ä–∞–Ω—è–µ—à—å—Å—è –ø–µ—Ä–µ–¥ –±–æ–µ–º —Å –±–æ—Å—Å–æ–º, –∞ –ø–æ—Ç–æ–º, –µ—Å–ª–∏ –≤—Å—ë –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—à—å—Å—è –∏ –ø—Ä–æ–±—É–µ—à—å —Å–Ω–æ–≤–∞.

---

### üß± –ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –∫–æ–¥–µ

–£ —Ç–µ–±—è –µ—Å—Ç—å —Ç—Ä–∏ –¥—Ä—É–∂–∫–∞:

1. **Originator** ‚Äî —ç—Ç–æ —Ç–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç. –û–Ω —É–º–µ–µ—Ç:
   - `createMemento()` ‚Äî —Å–¥–µ–ª–∞—Ç—å —Å–Ω–∏–º–æ–∫ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
   - `setMemento(memento)` ‚Äî –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å—Ç–∞—Ä–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é.

2. **Memento** ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∫–æ—Ä–æ–±–æ—á–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –ª–µ–∂–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç, –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏—Ç.

3. **Caretaker** ‚Äî —ç—Ç–æ —Ç–≤–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π. –û–Ω –¥–µ—Ä–∂–∏—Ç —Å—Ç–µ–∫ –∏–∑ Memento –∏ –≥–æ–≤–æ—Ä–∏—Ç: ¬´–û–∫–µ–π, —Å–æ—Ö—Ä–∞–Ω—è–µ–º!¬ª –∏–ª–∏ ¬´–û—Ç–∫–∞—Ç—ã–≤–∞–µ–º—Å—è!¬ª.

---

### üß™ –ü—Ä–∏–º–µ—Ä –Ω–∞ –ø–∞–ª—å—Ü–∞—Ö

```python
class Document:
    def __init__(self):
        self.text = ""

    def write(self, text):
        self.text += text

    def save(self):
        return Memento(self.text)

    def restore(self, memento):
        self.text = memento.text


class Memento:
    def __init__(self, text):
        self.text = text


class History:
    def __init__(self):
        self.saves = []

    def push(self, memento):
        self.saves.append(memento)

    def pop(self):
        return self.saves.pop() if self.saves else None


# === –ò—Å–ø–æ–ª—å–∑—É–µ–º ===
doc = Document()
history = History()

doc.write("–ü—Ä–∏–≤–µ—Ç")
history.push(doc.save())

doc.write(", –º–∏—Ä!")
print(doc.text)  # –ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!

doc.restore(history.pop())
print(doc.text)  # –ü—Ä–∏–≤–µ—Ç
```

---

### üß† –ö–æ–≥–¥–∞ —ç—Ç–æ —é–∑–∞—Ç—å

- –ö–æ–≥–¥–∞ **–Ω—É–∂–µ–Ω Ctrl+Z** ‚Äî –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞—Ö, –∏–≥—Ä–∞—Ö, —Ñ–æ—Ä–º–∞—Ö.
- –ö–æ–≥–¥–∞ **–Ω–µ–ª—å–∑—è –ª–∞–∑–∏—Ç—å –≤–Ω—É—Ç—Ä—å –æ–±—ä–µ–∫—Ç–∞**, –Ω–æ –Ω–∞–¥–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- –ö–æ–≥–¥–∞ **—Ö–æ—á–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å —Ç–æ—á–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**, –Ω–æ –Ω–µ –≥–æ—Ä–æ–¥–∏—Ç—å –æ–≥—Ä–æ–º–Ω—ã–µ –∫–æ—Å—Ç—ã–ª–∏.

---

### üéØ –í –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ö

**Memento** ‚Äî —ç—Ç–æ –∫–∞–∫ Ctrl+Z –≤ –∫–æ–¥–µ.  
–¢—ã –ø—Ä–æ—Å—Ç–æ –≥–æ–≤–æ—Ä–∏—à—å: ¬´—ç–π, —Å–æ—Ö—Ä–∞–Ω–∏ –º–Ω–µ —Å–µ–π—á–∞—Å –≤—Å—ë¬ª ‚Äî –∏ –ø–æ—Ç–æ–º –º–æ–∂–µ—à—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥, –Ω–µ –ª–æ–º–∞—è –Ω–∏—á–µ–≥–æ –≤–Ω—É—Ç—Ä–∏.

–ï—Å–ª–∏ –¥–µ–ª–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—é ‚Äî —ç—Ç–æ –∫–∞–∫ **—Ñ–æ—Ç–∫–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ**: —Ç—ã –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—à—å —Å–∞–º—É –∂–∏–∑–Ω—å, —Ç—ã –ø—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—à—å –º–æ–º–µ–Ω—Ç, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –≤–µ—Ä–Ω—É—Ç—å—Å—è.

---

–•–æ—á–µ—à—å ‚Äî —Å–¥–µ–ª–∞–µ–º —Ç–µ–±–µ –ø—Ä–∏–º–µ—Ä —Å –∏–≥—Ä–æ–π, –≥–¥–µ –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –ø–µ—Ä–µ–¥ –±–æ–µ–º.
